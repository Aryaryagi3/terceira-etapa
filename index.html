<!DOCTYPE html>
<html>
    <head>
        <title>Terceira Etapa</title>
        <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
        crossorigin="anonymous"
        >
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body class="d-flex flex-column min-vh-100">
        <header>
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
                <a class="navbar-brand p-2" href="#">Terceira Etapa</a>
            </nav>
        </header>
        <main class="container">               
                <div class="px-4 py-5 my-5 text-center">
                  <img class="d-block mx-auto mb-4" src="img/php.svg" alt="" width="100" height="70">
                  <h1 class="display-5 fw-bold">Terceira Etapa</h1>
                  <div class="col-lg-6 mx-auto">
                    <p class="lead mb-4">PLANO DE TREINAMENTO BACK-END PHP.</p>
                  </div>
                </div>
            <br>
            <div>
                <h1 class="justify-content-center">Formulário</h1>
            </div>
            <br>
            <div class="d-flex w-100 row">
                <div class="w-50 col-sm">
                    <form action="" id="form" onsubmit="return validate()" class="justify-content-center">
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="floatingInput" name="name" placeholder="Insira o nome aqui">
                            <label for="loatingInput">Nome</label>
                            <p class="text-secondary"><small>Formato: exemplo</small></p>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="email" class="form-control" id="floatingInput" name="email" placeholder="Insira o e-mail aqui">
                            <label for="loatingInput">E-mail</label>
                            <p class="text-secondary"><small>Formato: exemplo@exemplo</small></p>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="tel" pattern="[0-9]{5}-[0-9]{4}" class="form-control" id="floatingInput" name="phone" placeholder="Insira o telefone aqui">
                            <label for="loatingInput">Telefone</label>
                            <p class="text-secondary"><small>Formato: xxxxx-xxxx</small></p>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="floatingInput" name="subject" placeholder="Insira o assunto aqui">
                            <label for="loatingInput">Assunto</label>
                            <p class="text-secondary"><small>Formato: exemplo</small></p>
                        </div>
                        <div class="form-floating mb-3">
                            <input type="text" class="form-control" id="floatingInput" name="message" placeholder="Insira a mensagem aqui">
                            <label for="loatingInput">Mensagem</label>
                            <p class="text-secondary"><small>Formato: exemplo</small></p>
                        </div>
                          <br>
                        <button onclick="print()" type="submit" class="btn btn-primary">Submit</button>
                      </form>
                </div><br>
                <div class="card w-50 h-50 col-sm">
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">Nome inserido: </li>
                        <li class="list-group-item" id="inserted-name"></li>
                        <li class="list-group-item">E-mail inserido: </li>
                        <li class="list-group-item" id="inserted-email"></li>
                        <li class="list-group-item">Telefone inserido: </li>
                        <li class="list-group-item" id="inserted-phone"></li>
                        <li class="list-group-item">Assunto inserido: </li>
                        <li class="list-group-item" id="inserted-subject"></li>
                        <li class="list-group-item">Mensagem inserida: </li>
                        <li class="list-group-item" id="inserted-message"></li>
                    </ul>
                </div>
            </div>
        </main>
        <br>
        <footer class="text-center text-lg-start bg-dark text-muted">
            <div class="text-center p-4">
              © 2022 Copyright:
              <a class="text-reset fw-bold" href="/">Terceira Etapa</a>
            </div>
          </footer>
        <script>
            function print() {
                let elements = document.getElementById("form").elements;

                for (let i = 0; i < 5; i++)
                    localStorage.setItem(elements[i].name, elements[i].value);

            };

            window.onload = function() {
                let keyWords = ['name', 'email', 'phone', 'subject', 'message']

                for (let i = 0; i < 5; i++) {
                    document.getElementById("inserted-" + keyWords[i]).innerHTML = localStorage.getItem(keyWords[i]);
                    localStorage.removeItem(keyWords[i]);
                }
            };

            function validate() {
                let elements = document.getElementById("form").elements;
                let keyWords = ['nome', 'e-mail', 'telefone', 'assunto', 'mensagem']

                for (let i = 0; i < 5; i++) {
                    if (elements[i].value == "") {
                    alert("Por favor, preencha o campo " + keyWords[i]);
                    return false;
                    }
                }
                alert("Informações cadastradas com sucesso.");
            };

        </script>
    </body>
</html>